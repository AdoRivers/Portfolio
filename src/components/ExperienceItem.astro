---
const { title, date, description, company, technologies = [], isLast = false } = Astro.props;
---

<li class="relative mb-10 ms-6 group">
    
    {!isLast && (
        <div class="absolute left-[-12px] top-6 w-0.5 h-full bg-gradient-to-b from-blue-500 to-transparent opacity-30"></div>
    )}
    
    
    <div class="absolute flex items-center justify-center w-6 h-6 -start-3 transition-all duration-300 group-hover:scale-125">
    
        <div class="absolute w-8 h-8 bg-blue-500 rounded-full opacity-20 group-hover:opacity-40 blur-sm transition-opacity"></div>
    
        <span class="relative flex items-center justify-center w-6 h-6 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full ring-4 ring-gray-900 shadow-lg">
            <svg class="w-2.5 h-2.5 text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                <path d="M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"/>
            </svg>
        </span>
    </div>

    <!-- Card contenedor -->
    <div class="ml-4 p-6 bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 rounded-xl transition-all duration-300 hover:bg-gray-800/70 hover:border-blue-500/30 hover:shadow-lg hover:shadow-blue-500/10 hover:translate-y-[-2px]">
        
        <!-- Header -->
        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between mb-3 gap-2">
            <div>
                <h3 class="text-xl font-bold text-yellow-300 group-hover:text-yellow-200 transition-colors">
                    {title}
                </h3>
                {company && (
                    <p class="text-blue-400 font-medium text-sm mt-1">
                        {company}
                    </p>
                )}
            </div>
            <time class="text-sm font-medium text-gray-300 bg-gray-700/50 px-3 py-1 rounded-full whitespace-nowrap">
                {date}
            </time>
        </div>

        <!-- Description -->
        <p class="text-gray-300 text-pretty leading-relaxed mb-4">
            {description}
        </p>

        <!-- Technologies -->
        {technologies.length > 0 && (
            <div class="flex flex-wrap gap-2">
                {technologies.map((tech: string) => (
                    <span class="px-3 py-1 text-xs font-medium bg-blue-500/20 text-blue-300 rounded-full border border-blue-500/30 hover:bg-blue-500/30 transition-colors">
                        {tech}
                    </span>
                ))}
            </div>
        )}
    </div>
</li>

<style>
    /* Smooth animations */
    .group:hover .absolute div {
        animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
        0%, 100% {
            opacity: 0.2;
        }
        50% {
            opacity: 0.4;
        }
    }
</style>